# seat-availability-check-linebot

<a href="https://lin.ee/e3L1AGH"><img src="https://scdn.line-apps.com/n/line_add_friends/btn/ja.png" alt="å‹ã ã¡è¿½åŠ " height="36" border="0"></a>

ğŸ³ ã‚¢ã‚­ã‚·ãƒã‚¨ãƒ³ã‚·ã‚¹ï¼ˆæ˜­å³¶å¸‚æ•™è‚²ç¦ç¥‰ç·åˆã‚»ãƒ³ã‚¿ãƒ¼ï¼‰ã«ãŠã‘ã‚‹å­¦ç¿’å®¤ã®ç©ºå¸­çŠ¶æ³ã‚’èª¿ã¹ã‚‹ã“ã¨ãŒã§ãã‚‹LINE Bot

## Demo
![](https://user-images.githubusercontent.com/34241526/102971274-70567280-453c-11eb-8d03-c46944e2844d.png)
## DataSource

[æ˜­å³¶å¸‚æ°‘å›³æ›¸é¤¨ - WEBäºˆç´„](https://webreserv.library.akishima.tokyo.jp/webReserv/AreaInfo/Login)

ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ‡ãƒ¼ã‚¿ã¯æ˜­å³¶å¸‚æ°‘å›³æ›¸é¤¨ã®å…¬å¼ã‚µã‚¤ãƒˆã‹ã‚‰å–å¾—ã—ãŸã‚‚ã®ã§ã™ã€‚å½“è©²ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯ã“ã®ã‚µã‚¤ãƒˆã®HTMLã«ä¾å­˜ã—ã¦ã„ã‚‹ãŸã‚ã‚µã‚¤ãƒˆã®ä»•æ§˜ãŒå¤‰æ›´ã•ã‚ŒãŸå ´åˆã€æ­£å¸¸ã«å‹•ã‹ãªããªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

## Features
${å­¦ç¿’å®¤å}ã«ã¯```å­¦ç¿’å¸­ï¼ˆæœ‰ç·šLANæœ‰ï¼‰```ã€```å­¦ç¿’å¸­```ã€```ç ”ç©¶å€‹å®¤```ã€```ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆãƒ»DBå¸­```ã€```ã‚°ãƒ«ãƒ¼ãƒ—å­¦ç¿’å®¤```ã€```ãƒ†ã‚£ãƒ¼ãƒ³ã‚ºå­¦ç¿’å®¤```ã®ã„ãšã‚Œã‹ãŒå…¥ã‚Šã¾ã™ã€‚ç©ºå¸­é€šçŸ¥äºˆç´„ã¯äºˆç´„ã‹ã‚‰1æ™‚é–“ä»¥å†…ã«ç©ºå¸­ãŒã§ããªã‹ã£ãŸå ´åˆã€é–‰é¤¨æ™‚é–“ã«ãªã£ãŸå ´åˆè‡ªå‹•çš„ã«ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã•ã‚Œã¾ã™ã€‚é€šå¸¸ã¯ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰{å­¦ç¿’å®¤å}ã‚’ã‚¿ãƒƒãƒã™ã‚‹ã ã‘ã§å…¥åŠ›ã§ãã‚‹ãŸã‚ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’ä½¿ã£ãŸå…¥åŠ›ã¯ä¸è¦ã§ã™ã€‚

```
input  > ${å­¦ç¿’å®¤å}
output > å…¥åŠ›ã•ã‚ŒãŸå­¦ç¿’å®¤ã®ç©ºå¸­çŠ¶æ³ã‚’å‡ºåŠ›ã—ã¾ã™ã€‚

input  > ${å­¦ç¿’å®¤å} äºˆç´„
output > å­¦ç¿’å®¤ãŒæº€å¸­ã ã£ãŸå ´åˆã€ç©ºå¸­ãŒã§ããŸã‚‰é€šçŸ¥ã‚’è¡Œã†äºˆç´„ã‚’è¡Œã„ã¾ã™ã€‚

input  > ${å­¦ç¿’å®¤å} æ–°è¦äºˆç´„
output > æ—¢ã«ç©ºå¸­é€šçŸ¥äºˆç´„ãŒè¡Œã‚ã‚Œã¦ã„ãŸå ´åˆãã®äºˆç´„ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã—ã¦æ–°è¦ã«äºˆç´„ã‚’è¡Œã„ã¾ã™ã€‚
```
## Architecture
ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰å—ã‘å–ã£ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‹ã‚‰å­¦ç¿’å®¤åã‚’æŠ½å‡ºã€å—ã‘å–ã£ãŸå­¦ç¿’å®¤åã®ç©ºå¸­çŠ¶æ³ã‚’CloudFirestoreã‹ã‚‰å–å¾—ã€è¿”ä¿¡ç”¨ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”Ÿæˆã—ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«è¿”ã™ã¨ã„ã†ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã™ã€‚ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯AppEngineã«ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã•ã‚Œã¦ã„ã¾ã™ã€‚

![](https://user-images.githubusercontent.com/34241526/102971513-e064f880-453c-11eb-9fef-a13d96e7459f.png)

[diagrams.net](https://app.diagrams.net/)


## Mobilize

```bash
# å½“è©²ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/akishima-ensis/seat-availability-check-linebot

# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd seat-availability-check-linebot

# pipenv ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install pipenv

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã«ä»®æƒ³ç’°å¢ƒã‚’ä½œæˆã•ã›ã‚‹
export PIPENV_VENV_IN_PROJECT=1

# ä»®æƒ³ç’°å¢ƒã®ä½œæˆ
pipenv instal --dev

# ä»®æƒ³ç’°å¢ƒã«å…¥ã‚‹
pipenv shell

# ã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•
python3 app.py
```